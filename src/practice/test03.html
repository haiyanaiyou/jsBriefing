<script>
  var n = 1;
  function fn() {
    var n = 2;
    function f() {
      n--;
      console.log(n);
    }
    f();
    return f;
  }
  var x = fn();
  x();
  console.log(n);
  // 1
  // 0
  // 1
</script>